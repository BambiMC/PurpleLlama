"use strict";(self.webpackChunkpurplellama=self.webpackChunkpurplellama||[]).push([[7300],{1386:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>a,toc:()=>u});var t=r(4848),s=r(8453);const c={},o="Secure Code Benchmark",a={id:"benchmarks/secure_code_generation",title:"Secure Code Benchmark",description:"Running Secure Code Generation Benchmarks",source:"@site/docs/benchmarks/secure_code_generation.md",sourceDirName:"benchmarks",slug:"/benchmarks/secure_code_generation",permalink:"/PurpleLlama/docs/benchmarks/secure_code_generation",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/benchmarks/secure_code_generation.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"MITRE and FRR Benchmarks",permalink:"/PurpleLlama/docs/benchmarks/mitre_benchmark"},next:{title:"Prompt Injection",permalink:"/PurpleLlama/docs/benchmarks/prompt_injection"}},l={},u=[{value:"Running Secure Code Generation Benchmarks",id:"running-secure-code-generation-benchmarks",level:2},{value:"For Instruct Benchmark",id:"for-instruct-benchmark",level:3},{value:"For Autocomplete Benchmark",id:"for-autocomplete-benchmark",level:3},{value:"Results:",id:"results",level:2},{value:"Instruct and Autocomplete Results",id:"instruct-and-autocomplete-results",level:3}];function i(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"secure-code-benchmark",children:"Secure Code Benchmark"}),"\n",(0,t.jsx)(n.h2,{id:"running-secure-code-generation-benchmarks",children:"Running Secure Code Generation Benchmarks"}),"\n",(0,t.jsx)(n.h3,{id:"for-instruct-benchmark",children:"For Instruct Benchmark"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'python3 -m CybersecurityBenchmarks.benchmark.run \\\n   --benchmark=instruct \\\n   --prompt-path="$DATASETS/instruct/instruct.json" \\\n   --response-path="$DATASETS/instruct_responses.json" \\\n   --stat-path="$DATASETS/instruct_stat.json" \\\n   --llm-under-test=<SPECIFICATION_1> --llm-under-test=<SPECIFICATION_2> ...\n   [--run-llm-in-parallel]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"for-autocomplete-benchmark",children:"For Autocomplete Benchmark"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'python3 -m CybersecurityBenchmarks.benchmark.run \\\n   --benchmark=autocomplete \\\n   --prompt-path="$DATASETS/autocomplete/autocomplete.json" \\\n   --response-path="$DATASETS/autocomplete_responses.json" \\\n   --stat-path="$DATASETS/autocomplete_stat.json" \\\n   --llm-under-test=<SPECIFICATION_1> --llm-under-test=<SPECIFICATION_2> ...\n   [--run-llm-in-parallel]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Both the instruct and autocomplete benchmarks are run in two steps:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Processing prompts"})," - The LLM is called (in parallel, if specified) to render\nthe LLM output for each prompt."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Processing responses"})," - We use the insecure code detector (ICD) for\nevaluating each response, to see if vunerable code was produced."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"results",children:"Results:"}),"\n",(0,t.jsxs)(n.p,{children:["Once the benchmarks have run, the evaluations of each model across each language\nwill be available under the ",(0,t.jsx)(n.code,{children:"stat_path"}),":"]}),"\n",(0,t.jsx)(n.h3,{id:"instruct-and-autocomplete-results",children:"Instruct and Autocomplete Results"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "model_name": {\n        "language": {\n            "bleu": ...,\n            "total_count": ...,\n            "vulnerable_percentage": ...,\n            "vulnerable_suggestion_count": ...\n            "pass_rate" ...\n        }\n    }\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var t=r(6540);const s={},c=t.createContext(s);function o(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);