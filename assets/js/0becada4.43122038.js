"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[541],{4589:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"documentation/scanners/alignment-check","title":"AlignmentCheck","description":"Overview","source":"@site/docs/documentation/scanners/alignment-check.md","sourceDirName":"documentation/scanners","slug":"/documentation/scanners/alignment-check","permalink":"/PurpleLlama/LlamaFirewall/docs/documentation/scanners/alignment-check","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/PurpleLlama/tree/main/LlamaFirewall/website/docs/documentation/scanners/alignment-check.md","tags":[],"version":"current","frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"LlamaFirewall Workflow and Detection Components","permalink":"/PurpleLlama/LlamaFirewall/docs/documentation/llamafirewall-architecture/workflow-and-detection-components"},"next":{"title":"CodeShield","permalink":"/PurpleLlama/LlamaFirewall/docs/documentation/scanners/code-shield"}}');var a=i(4848),o=i(8453);const s={},r="AlignmentCheck",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Design of AlignmentCheck",id:"design-of-alignmentcheck",level:2},{value:"Security Risks Covered",id:"security-risks-covered",level:2}];function d(e){const n={h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"alignmentcheck",children:"AlignmentCheck"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"AlignmentCheck is a pioneering, open-source guardrail that utilizes few-shot prompting to audit an agent's reasoning in real-time, detecting signs of goal hijacking or prompt-injection induced misalignment. This innovative approach allows for the examination of the full chain of thought behind an LLM decision or action, flagging contradictions, goal divergence, and other indicators of injection-induced misalignment.\nAs part of the LlamaFirewall suite, AlignmentCheck serves as a runtime reasoning auditor, providing a critical layer of defense against malicious behavior. Its ability to be layered with PromptGuard enables it to offer an additional level of protection, detecting misalignments around dangerous agentic behavior and ensuring the integrity of your system."}),"\n",(0,a.jsx)(n.h2,{id:"design-of-alignmentcheck",children:"Design of AlignmentCheck"}),"\n",(0,a.jsx)(n.p,{children:"As a defense mechanism that enhances the security of LlamaFirewall, this scanner continuously monitors an agent's actions and comparing them to the user's stated objective. This helps detect and prevent covert prompt injection, misleading tool output, and other forms of goal hijacking.\nUnlike traditional content-based filters, AlignmentCheck reasons over the entire execution trace, flagging deviations that suggest malicious behavior. By leveraging language-model reasoning, it evaluates the consistency between planned and observed actions, detecting behavioral drift early and constraining the agent to its authorized task. This approach provides several benefits:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Closes a critical gap in existing defenses by detecting indirect injections that appear benign in isolation"}),"\n",(0,a.jsx)(n.li,{children:"Extends protection to threat classes that static rules and lexical filters routinely miss"}),"\n",(0,a.jsx)(n.li,{children:"Provides a semantic-layer defense that complements traditional content-based filters"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"security-risks-covered",children:"Security Risks Covered"}),"\n",(0,a.jsx)(n.p,{children:"AlignmentCheck provides protection against a range of security risks, including:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Indirect Universal Jailbreak Prompt Injections:"})," AlignmentCheck detects when an agent's actions diverge from the user-defined goal and policy, preventing jailbreaks embedded in third-party content."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Agent Goal Hijacking Prompt Injections:"})," By monitoring an agent's actions and comparing them to the user-defined goal, AlignmentCheck can detect application-specific prompt injections that are harder to identify than universal jailbreaks."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Malicious Code via Prompt Injection:"})," AlignmentCheck provides a layered defense against code-oriented prompt injection, blocking malicious code from being executed through prompt injection."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var t=i(6540);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);